# JerryBoree

הסבר על מבנה הנתונים:

בחרנו להשתמש ברשימה מקושרת בכדי לשמור את האובייקט ג'רי מכיוון שניתן לשנות את הערך של האובייקט ג'רי יותר בקלות ברשימה בלי לפגוע בסדר ההכנסה. כלומר, במידה ונרצה להוסיף תכונה לג'רי שכבר קיים במערכת ניתן לעשות זאת בקלות על ידי שינוי של הערך הקיים כבר ברשימה.
בנוסף, מכיוון שניתן לשמור אובייקט במבנה נתונים אחד ויחיד, יותר נוח לגשת לרשימה וליצור מצביע לג'רי ממבני הנתונים האחרים.
מכיוון שהדרישה הייתה שהאינדקס של הרשימה יתחיל מהמספר 1, אנחנו מתחילים להוסיף את הערכים מהחוליה השנייה וערכה של החוליה הראשונה תהיה  NULL.

בטבלת הגיבוב, הקצנו זיכרון לטבלה עצמה ולכל תא יצרנו חוליה שבהמשך תהפוך לרשימה. כל ג'רי שהתווסף לרשימה של הג'רים, חייב להתווסף גם לטבלת הגיבוב מכיוון שהיא מכילה את הג'רים בגלל הדרישה לחיפוש של ג'רי  בזמן ממוצע קבוע, ולכן בכל פעם שהתווסף ג'רי חדש למערכת השתמשנו בפונקציית גיבוב אשר ממיינת אותו לפי מפתח לתא המתאים ובכך מתאפשר החיפוש של ג'רי בזמן ממוצע קבוע.

כל חוליה אשר מכילה ג'רי בנויה באופן הבא: 
ישנה חוליה שמצביעה לזוג. המפתח של הזוג הוא הID של ג'רי והערך של הזוג הוא מצביע לחוליה בה אותו הג'רי נמצא ברשימה של הג'רים.

בחרנו להשתמש במצביעים מכיוון שלא ניתן לשמור את הג'רי בטבלת הגיבוב ובכדי שנוכל לגשת למידע (למשל בשביל לחפש האם הג'רי קיים במערכת) יש צורך במצביע. בגלל שלא עשינו העתקה עמוקה לג'רי בטבלת הגיבוב, במידה והג'רי נמחק בסוף פעולה כלשהי הוא יימחק גם מטבלת הגיבוב.

ב- multiHashTable, הקצנו זיכרון ל multiHashTableעצמו, כך שהוא מצביע לטבלת גיבוב. ה multiHashTable, נראה כמו הטבלת גיבוב חוץ מהשינוי הבא:
בכל חוליה ברשימה של טבלת הגיבוב, אשר מכילה ג'רי בנויה באופן הבא:
ישנה חוליה שמצביעה לזוג. המפתח של הזוג הוא שם של תכונה פיזית שקיימת אצל ג'רים. הערך של הזוג הוא חוליה שבהמשך תהפוך לרשימה במידת הצורך והיא מכילה מצביעים לכל החוליות שמכילות את הג'רים בעלי התכונה שנמצאת במפתח של הזוג.


גודל טבלאות הגיבוב:
טבלת הגיבוב: בחרנו במספר ראשוני שעוקב למספר הג'רים שהוכנסו מקריאת הקובץ.
טבלת ה- multiHashTable: בחרנו במספר ראשוני שעוקב למספר התכונות הפיזיות שהוכנסו מקריאת הקובץ.
יצרנו פונקציה שתחשב את המספר הראשוני העוקב שבהמשך ישמש לקביעת הגודל של הטבלאות.

פונקציית הגיבוב בטבלאות: השתמשנו בפונקציה אשר סוכמת לתוך משתנה sum את כל מספרי הASCII של המחרוזת שהיא מקבלת ולבסוף עושים sum%hashNumber.

*הערה: את הכוכבי לכת, תכונות הפיזיות ואת המוצאים של הג'רים שמרנו במערכים דינאמים של העבודה קודמת (מכיוון שהדרישה בעבודה אוסרת רק שמירה של הג'רים בשום צורה חוץ מאשר בADT שיצרנו.

JerryBoree

אפשרות 1: השתמשנו ב-hashTable כדי למצוא האם הג'רי אותו רוצים להוסיף קיים בכלל במערכת. פעולה זו עולה O(1) בממוצע. במידה ואינו קיים, יצרנו ג'רי חדש, הכנסנו אותו לרשימה של הג'רים ול-hashTable.

אפשרות 2:  השתמשנו ב-hashTable כדי למצוא האם הג'רי קיים במערכת. במידה ולא, בדקנו האם התכונה קיימת לג'רי ואם לא, יצרנו תכונה פיזית חדשה אותה הוספנו לג'רי שכבר קיים ברשימה של הג'רים (עדכנו את הג'רי המתאים ברשימה) ולבסוף הכנסנו את התכונה למצביע לג'רי ל- multiHashTable והדפסנו את כל הג'רים בעלי התכונה מה- multiHashTable. בכך עמדנו בזמן הריצה המתאים.

אפשרות 3: השתמשנו בhashTable- כדי למצוא האם הג'רי קיים במערכת. בדקנו האם התכונה קיימת אצלו. במידה וכן, ראשית הסרנו את הג'רי מרשימת הג'רים בעלי התכונה הזו מה- multiHashTable. הסרנו את התכונה מהג'רי ועדכנו את החוליה שמכילה אותו ברשימת הג'רים. 

אפשרות 4: השתמשנו בhashTable כדי למצוא האם הג'רי קיים במערכת. במידה וקיים, הסרנו אותנו מכל הרשימות של הג'רים מה- multiHashTable (כלומר מהרשימות של כל התכונות שהיו שייכות לו), הסרנו אותו מהhashTable- ולבסוף הסרנו גם מרשימת הג'רים.

אפשרות 5: חיפשנו האם התכונה קיימת ב- multiHashTable. במידה וכן, חיפשנו את הג'רי המתאים לפי דרישות המשתמש דרך רשימת הג'רים של בעלי תכונה זו. לבסוף, הדפסנו את הג'רי הרצוי והסרנו אותו מכל המופעים שלו ב- multiHashTable, ב-hashTable וברשימת הג'רים. 

אפשרות 6: בדקנו את אורך רשימת הג'רים כדי לבדוק אם קיימים ג'רים במערכת. אם קיימים, נמצא את הג'רי עם רמת שמחה הכי נמוכה ברשימה של הג'רי. הדפסנו את הג'רי והסרנו אותו מכל המופעים שלו ב- multiHashTable, ב-hashTable וברשימת הג'רים.

אפשרות 7:  א. הדפסנו את כל הג'רים שנמצאים ברשימת הג'רים.
                 ב. חיפשנו ב- multiHashTable את התכונה הרצויה. במידה וקיימת, הדפסנו את רשימת הג'רים שקיימת לתכונה 
                     זו דרך ה- multiHashTable.
                 ג. הדפסנו את המערך שבו שמרנו את כוכבי הלכת.

אפשרות 8: בכל הסעיפים, עברנו על כל הג'רים ברשימת הג'רים לפי דרישות המערכת ולבסוף הדפסנו את כל רשימת הג'רים.

אפשרות 9: יציאה מסודרת מהתוכנית: ראשית הרסנו את ה- multiHashTable, לאחר מכן את הhashTable. ואז את הרשימת הג'רים. לבסוף, הרסנו את המערכים שמכילים את כוכבי הלכת, תכונות פיזיות ואת המוצאים.


